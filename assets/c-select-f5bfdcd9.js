import{_ as q}from"./c-label.vue_vue_type_script_setup_true_lang-d4bb2fcf.js";import{o as r,j as i,q as u,ax as G,ay as A,d as H,aA as J,ac as Q,e as B,aD as W,ad as Z,aE as X,y as v,aF as Y,aG as g,aH as ee,an as oe,aq as ae,E as te,w as O,ae as se,af as le,n as e,aj as T,aI as $,aJ as ne,z as re,s as k,k as E,aK as ce,ai as ie,r as ue,F as de,aL as pe,a5 as fe,a9 as he,aa as ve,p as me}from"./index-9f81791e.js";const _e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},be=u("path",{fill:"currentColor",d:"M7.41 8.58L12 13.17l4.59-4.59L18 10l-6 6l-6-6l1.41-1.42Z"},null,-1),we=[be];function xe(s,m){return r(),i("svg",_e,we)}const ye={name:"mdi-chevron-down",render:xe},M={small:{height:"28px",fontSize:"12px"},medium:{height:"34px",fontSize:"14px"},large:{height:"40px",fontSize:"16px"}},{useTheme:ge}=G({dark:{sizes:M,backgroundColor:"#333333",borderColor:"#333333",dropdownShadow:"rgba(0, 0, 0, 0.2) 0px 8px 24px",option:{hover:{backgroundColor:"#444444"},active:{textColor:A.dark.primary.color}},focus:{backgroundColor:"#1ea54c1a"}},light:{sizes:M,backgroundColor:"#ffffff",borderColor:"#e0e0e69e",dropdownShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px",option:{hover:{backgroundColor:"#eee"},active:{textColor:A.light.primary.color}},focus:{backgroundColor:"#ffffff"}}});function ke({value:s,min:m=0,max:d=100}){return Math.min(Math.max(s,m),d)}const Ce=s=>(he("data-v-042baebd"),s=s(),ve(),s),Se={"flex-1":"",truncate:""},ze={key:1,"lh-normal":""},Ie={key:2,class:"placeholder","lh-normal":""},De={class:"c-select-dropdown",absolute:"","z-10":"","mt-1":"","max-h-312px":"","w-full":"","overflow-y-auto":"","pretty-scrollbar":""},Re=Ce(()=>u("div",{"px-4":"","py-1":"","opacity-70":""}," No results found ",-1)),Ae=["onClick"],Be=H({__name:"c-select",props:{options:{default:()=>[]},value:{default:void 0},placeholder:{default:void 0},size:{default:"medium"},searchable:{type:Boolean,default:!1},label:{},labelFor:{},labelPosition:{},labelWidth:{},labelAlign:{}},emits:["update:value"],setup(s,{emit:m}){const d=s;J(o=>({22193123:e(P).text.mutedColor,"292863e0":e(c).backgroundColor,"6b443122":e(c).borderColor,"69ee1f6d":e(S).fontSize,"4398ea38":e(S).height,"3027de26":e(c).dropdownShadow,"21b357b2":e(c).option.active.textColor,f95dc382:e(c).option.hover.backgroundColor}));const{options:F,placeholder:V,size:K,searchable:L}=Q(d),_=B(()=>F.value.map(o=>typeof o=="string"?{label:o,value:o}:o)),N=W(),w=Z(d,"value",m),c=ge(),P=X(),a=v(!1),p=Y(_.value.find(o=>o.value===w.value)),n=v(0),C=v(null),S=B(()=>c.value.sizes[K.value]),f=v(""),z=v();g(()=>!a.value,()=>{n.value=0,f.value=""}),g(()=>a.value,()=>{fe(()=>z.value?.focus())}),ee(C,I),g(N.escape,I),oe(w,o=>{const t=_.value.find(h=>h.value===o);t&&(p.value=t)});const{searchResult:x}=ae({search:f,data:_.value,options:{keys:["label"],shouldSort:!1,threshold:.3,filterEmpty:!1}});function I(){a.value=!1}function D(){a.value=!a.value}function R({option:o}){p.value=o,w.value=o.value,a.value=!1}function U(o){const{key:t}=o,h=["Enter"].includes(t),y=["ArrowUp","ArrowDown"].includes(t),l=t==="ArrowDown";if(h){a.value&&n.value!==-1?R({option:x.value[n.value]}):D(),o.preventDefault();return}if(y){const b=l?1:-1;n.value=ke({value:n.value+b,min:0,max:_.value.length-1}),o.preventDefault()}}function j(){n.value=0}return(o,t)=>{const h=ye,y=q;return r(),te(y,se(le(d)),{default:O(()=>[u("div",{ref_key:"elementRef",ref:C,relative:"",class:"c-select","w-full":""},[u("div",{flex:"","flex-nowrap":"","cursor-pointer":"","items-center":"",class:T([{"is-open":e(a),"important:border-primary":e(a)},"c-select-input"]),tabindex:"0","hover:important:border-primary":"",onClick:D,onKeydown:U},[u("div",Se,[e(L)&&e(a)?$((r(),i("input",{key:0,ref_key:"searchInputRef",ref:z,"onUpdate:modelValue":t[0]||(t[0]=l=>re(f)?f.value=l:null),type:"text",placeholder:"Search...",class:"search-input","w-full":"","lh-normal":"","color-current":"",onInput:j},null,544)),[[ne,e(f)]]):e(p)?(r(),i("span",ze,k(e(p).label),1)):(r(),i("span",Ie,k(e(V)??"Select an option"),1))]),E(h,{class:"chevron"})],34),E(pe,{name:"dropdown"},{default:O(()=>[$(u("div",De,[e(x).length?(r(!0),i(de,{key:1},ue(e(x),(l,b)=>(r(),i("div",{key:l.label,"cursor-pointer":"","px-4":"","py-1":"",class:T([{active:e(p)?.label===l.label,hover:e(n)===b},"c-select-dropdown-option"]),onClick:Oe=>R({option:l})},k(l.label),11,Ae))),128)):ie(o.$slots,"empty",{key:0},()=>[Re],!0)],512),[[ce,e(a)]])]),_:3})],512)]),_:3},16)}}});const Ee=me(Be,[["__scopeId","data-v-042baebd"]]);export{Ee as _};
